import{d as X,a as u,K as d,E as Y,Q as w,M as b,b as p,g as a,f as y,R as v,S as _,F as S,v as k,e as x,U as B,r as G,o as g,J as M,t as V,_ as z}from"./index-DQzoCrCu.js";const E={class:"graphBox"},U={class:"tools"},A=["onClick"],D=X({__name:"index",setup(I){const i=u("Rectangular"),m=[{value:"Rectangular",label:"矩形",icon:"juxing"},{value:"Circle",label:"圆形",icon:"yuanxing"},{value:"Triangle",label:"三角形",icon:"sanjiaoxing"},{value:"Ellipse",label:"椭圆",icon:"ellipse"}];let l=null;const r=u("#e8e6e6"),c=u("#191919");let t=null;class C extends B{get centerX(){return(this.minX+this.maxX)/2}get centerY(){return(this.minY+this.maxY)/2}get radiusX(){return(this.maxX-this.minX)/2}get radiusY(){return(this.maxY-this.minY)/2}draw(){const e=2*Math.PI;this._ctx.beginPath(),this._ctx.ellipse(this.centerX*this._dpi,this.centerY*this._dpi,this.radiusX*this._dpi,this.radiusY*this._dpi,0,0,e),this._ctx.fillStyle=this._color,this._ctx.fill(),this._ctx.strokeStyle="rgba(255,255,255,1)",this._ctx.lineWidth=3,this._ctx.lineCap="square",this._ctx.stroke()}isInside(s,o){const e=(s-this.centerX)/this.radiusX,h=(o-this.centerY)/this.radiusY;return Math.pow(e,2)+Math.pow(h,2)<=1}}d(()=>c.value,n=>{t.changeCanvasBG(n)}),d(()=>r.value,n=>{t.changeGraphColor(n)}),d(()=>i.value,n=>{t.setCurrentGraph(n)});const f=()=>{t.downloadCanvas()};return Y(()=>{const n=l==null?void 0:l.getContext("2d");t=new w(l,n),t.init(),t.drawShape(),t.setShape({Ellipse:C})}),b(()=>{t.destruction()}),(n,s)=>{const o=G("xy-icon");return g(),p("div",E,[a("div",U,[s[2]||(s[2]=y(" 背景颜色:")),v(a("input",{type:"color","onUpdate:modelValue":s[0]||(s[0]=e=>c.value=e),class:"colorSelect"},null,512),[[_,c.value]]),(g(),p(S,null,k(m,e=>a("div",{class:M(["graphical",e.value===i.value?"select":"noSelect"]),onClick:h=>i.value=e.value},[x(o,{icon:`iconfont icon-${e.icon}`},null,8,["icon"]),a("p",null,V(e.label),1)],10,A)),64)),v(a("input",{type:"color","onUpdate:modelValue":s[1]||(s[1]=e=>r.value=e),class:"colorSelect"},null,512),[[_,r.value]]),x(o,{icon:"iconfont icon-xiazai",title:"下载",onClick:f})]),a("canvas",{ref_key:"canvas",ref:l},null,512)])}}}),T=z(D,[["__scopeId","data-v-b8a004f9"]]);export{T as default};
