import{d as X,a as u,M as h,H as Y,S as w,O as y,b as p,g as s,f as b,U as _,V as v,F as S,y as k,e as x,W as B,r as V,o as g,L as G,t as M,_ as z}from"./index-mpseKrIt.js";const U={class:"graphBox"},A={class:"tools"},D=["onClick"],E=X({__name:"index",setup(I){const i=u("Rectangular"),m=[{value:"Rectangular",label:"矩形",icon:"juxing"},{value:"Circle",label:"圆形",icon:"yuanxing"},{value:"Triangle",label:"三角形",icon:"sanjiaoxing"},{value:"Ellipse",label:"椭圆",icon:"ellipse"}];let l=null;const r=u("#e8e6e6"),c=u("#191919");let t=null;class C extends B{get centerX(){return(this.minX+this.maxX)/2}get centerY(){return(this.minY+this.maxY)/2}get radiusX(){return(this.maxX-this.minX)/2}get radiusY(){return(this.maxY-this.minY)/2}draw(){const e=2*Math.PI;this._ctx.beginPath(),this._ctx.ellipse(this.centerX*this._dpi,this.centerY*this._dpi,this.radiusX*this._dpi,this.radiusY*this._dpi,0,0,e),this._ctx.fillStyle=this._color,this._ctx.fill(),this._ctx.strokeStyle="rgba(255,255,255,1)",this._ctx.lineWidth=3,this._ctx.lineCap="square",this._ctx.stroke()}isInside(n,o){const e=(n-this.centerX)/this.radiusX,d=(o-this.centerY)/this.radiusY;return Math.pow(e,2)+Math.pow(d,2)<=1}}h(()=>c.value,a=>{t.changeCanvasBG(a)}),h(()=>r.value,a=>{t.changeGraphColor(a)}),h(()=>i.value,a=>{t.setCurrentGraph(a)});const f=()=>{t.downloadCanvas()};return Y(()=>{const a=l==null?void 0:l.getContext("2d");t=new w(l,a),t.init(),t.drawShape(),t.setShape({Ellipse:C})}),y(()=>{t.destruction()}),(a,n)=>{const o=V("xy-icon");return g(),p("div",U,[s("div",A,[b(" 背景颜色:"),_(s("input",{type:"color","onUpdate:modelValue":n[0]||(n[0]=e=>c.value=e),class:"colorSelect"},null,512),[[v,c.value]]),(g(),p(S,null,k(m,e=>s("div",{class:G(["graphical",e.value===i.value?"select":"noSelect"]),onClick:d=>i.value=e.value},[x(o,{icon:`iconfont icon-${e.icon}`},null,8,["icon"]),s("p",null,M(e.label),1)],10,D)),64)),_(s("input",{type:"color","onUpdate:modelValue":n[1]||(n[1]=e=>r.value=e),class:"colorSelect"},null,512),[[v,r.value]]),x(o,{icon:"iconfont icon-xiazai",title:"下载",onClick:f})]),s("canvas",{ref_key:"canvas",ref:l},null,512)])}}}),j=z(E,[["__scopeId","data-v-b8a004f9"]]);export{j as default};
